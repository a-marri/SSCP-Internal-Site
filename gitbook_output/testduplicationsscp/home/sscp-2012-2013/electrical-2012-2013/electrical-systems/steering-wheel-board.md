# steering-wheel-board

## SSCP - Steering wheel board

## Steering wheel board

### Motivation and architecture

Every vehicle needs some basic controls. At their most primitive, a power toggle, reverse toggle, throttle, and brake are sufficient to adequately control a vehicle. Additional controls and information are luxuries, but can improve the race performance of a vehicle.

Implementing controls in a solar car is harder than it seems. High vibration, high temperatures, and an unfriendly EMI environment make it difficult to reliably get signals from the driver to the electronics that drives the car. We have historically had signal integrity problems with a monolithic design.

Luminos’s steering wheel was designed collaboratively by myself (Harry) and Michael Hall-Snyder; I handled the electrical components while Michael designed the mechanical configuration and made sure everything fit properly. The primary design considerations were robust mechanical connection to the steering column (enabling a robust electrical connection) and electrical integration to prevent the car from turning with the steering wheel removed. We wanted a clean, “car-like” user interface with no confusing dials and arbitrary gauges. Additional information about the car (speedometer, battery pack voltage, etc) were displayed on a large character VFD (the same type of display used in checkout registers). The VFD technology was chosen because of its high contrast, even when subjected to large amounts of external glare (it’s sunny in the outback, and there are not tinted windows!) This performance came at the expense of high power consumption (\~2.2W), which was mitigated by implementing power save functionality that turned off the display during normal operating conditions and only turning it on when the driver specifically hit a button to see the extra information (this became significant on the last day of racing when we were running at extremely low SOC and low speed, and there was a noticeable power increase on telemetry when the driver turned on the display).&#x20;

User Interface:

Power: The power button is the simplest. It is a latching button that ties the electrical disconnect line (passed through the 5-pin Phoenix connectors throughout the car) to ground. This completes a 5mA current loop (running throughout the car) activating the turn-on circuitry within the Battery Management System (link to BMS doc here!). The nature of the setup means that the steering wheel must be connected for the car to be easily turned on and that the car is instantly turned off when the steering wheel is removed. This mostly worked as anticipated, except for once when a mis-wired phoenix connector running from the Battery pack (which was turned on with the internal switch) connected the 24V bus to the Edisc line, simultaneously fusing the switch shut and fusing the thin track connecting it to the internal wiring harness. These were fixed with a replacement switch and yellow-wire, respectively, but did mean that we decided to use the uglier looking (and slightly less comfortable) wheel during the competition to avoid using the bodged one unless necessary.      &#x20;

Other Buttons: For the other buttons, we chose to maintain as much flexibility as possible by using momentary switches with built-in separately controllable LEDs. This allowed us to implement momentary or latching functionality as desired in software. (For instance, the turn-signal buttons are “latching”, but not the power save button.) Externally, the switches are panel-mounted to the waterjet-cut front panel, holding them in place mechanically and keeping the strain from getting transmitted to the solder joint. Internally, the switches are wired to an IC that debounces the signals and provides ESD protection. The LEDs are individually controlled by the main microprocessor (an F4) to show the buttons’ states.&#x20;

Communication:

&#x20;           This board is connected to the main CAN bus, and along with BMS terminates the bus. The bus is terminated here for two reasons. First, because of the bus routing it would be the furthest stub were it to be a stub, and could limit the bus bandwidth as such. Second, the only two boards that the car can’t turn on without are this board and BMS, so it makes sense to terminate the bus at these two boards to prevent undertermination or overtermination.  &#x20;

Mechanical Design Subtleties:

&#x20;           This board was the most mechanically constrained boards on the car. Work on the mechanical and electrical aspects of the steering occurred in parallel for a long time, until it came time to do PCB layout. Michael had designed the general form factor of the wheel’s front plate (which the switches had to mount to) and from that form factor generated a DXF drawing of the board outline (the board looks somewhat like an unfolded T-shirt, with the body of the shirt occupying the main space within the wheel, and the two arms extending out to hold the buttons on the sides. This drawing also included mechanical placement information about the buttons and the three holes that are used to hold the quick-disconnect. I imported this drawing into Altium onto the Board Outline layer, then placed the switches and mounting holes as indicated on the drawing. When I finished the layout, I exported a step file of the board (which includes an accurate-width board as well as all of the 3D bodies for all of the models) and sent it back to Michael. This allowed him to check for clearance issues in the 3D printed backplate before having it manufactured.

&#x20;           The internal wiring harness from the quick-disconnect to the PCB also had some interesting subtleties. We wanted an extremely low-profile wire-to-board connection that could be connected with the case almost sealed (to keep the length of the wire short). The connector chosen used extremely fine crimps placed into a small housing. I first ordered wires and crimps separately and tried to crimp them myself (without the benefit of the proper and expensive crimping tool). This was an abysmal failure, and would have forced an unreliable and difficult direct solder of wire to board. Fortunately, Digikey also sells pre-crimped wires, which proved a much better option.&#x20;
